---
import Layout from '../layouts/Layout.astro';

// HowTo Schema for SEO
const howToSchema = {
	"@context": "https://schema.org",
	"@type": "HowTo",
	"name": "How to Use Initiative Tracker for D&D 5e",
	"description": "Complete guide to using the Initiative Tracker for D&D 5e combat encounters. Learn everything from basic setup to advanced features.",
	"image": new URL("/init-tracker-logo.png", Astro.site),
	"totalTime": "PT5M",
	"estimatedCost": {
		"@type": "MonetaryAmount",
		"currency": "USD",
		"value": "0"
	},
	"tool": [
		{
			"@type": "HowToTool",
			"name": "Initiative Tracker"
		},
		{
			"@type": "HowToTool",
			"name": "Web Browser"
		}
	],
	"step": [
		{
			"@type": "HowToStep",
			"name": "Add Combatants",
			"text": "Click the '+ Add Row' button to add a new combatant to the initiative tracker. You can add as many creatures as needed for your encounter.",
			"position": 1
		},
		{
			"@type": "HowToStep",
			"name": "Enter Names",
			"text": "Click on the Name field and start typing. If you're adding a monster, you'll see autocomplete suggestions from our database of 300+ D&D monsters. Select a monster to automatically fill in their stats, or type your own custom name for player characters.",
			"position": 2
		},
		{
			"@type": "HowToStep",
			"name": "Roll Initiative",
			"text": "Have each player and monster roll for initiative. Enter the results in the Initiative column. The tracker will automatically sort everyone from highest to lowest initiative.",
			"position": 3
		},
		{
			"@type": "HowToStep",
			"name": "Fill in Stats",
			"text": "Enter each combatant's current HP, maximum HP, and Armor Class. If you selected a monster from the autocomplete, these will be filled in automatically.",
			"position": 4
		},
		{
			"@type": "HowToStep",
			"name": "Start Combat",
			"text": "Click 'Next Turn' to begin combat. The current active turn will be highlighted. Progress through combat by clicking 'Next Turn' after each creature's turn ends.",
			"position": 5
		}
	]
};
---

<Layout 
	title="How to Use - Initiative Tracker Guide for D&D 5e"
	description="Learn how to use the Initiative Tracker for D&D 5e. Complete guide covering combat management, AI encounters, saving encounters, and advanced features."
>
	<script type="application/ld+json" set:html={JSON.stringify(howToSchema)} />
	<div class="w-full min-h-screen p-4">
		<div class="max-w-4xl mx-auto">
			<nav class="mb-6 text-sm">
				<a href="/" class="text-primary hover:underline">‚Üê Back to Tracker</a>
			</nav>

			<article class="max-w-none">
				<h1 class="text-4xl md:text-5xl font-bold text-primary mb-6">How to Use Initiative Tracker</h1>
				
				<p class="text-lg text-muted-foreground mb-8">
					Complete guide to using the Initiative Tracker for D&D 5e combat encounters. Learn everything from basic setup to advanced features.
				</p>

				<section class="mb-12">
					<h2 class="text-3xl font-bold mb-4">Getting Started</h2>
					<p class="text-muted-foreground mb-4">
						The Initiative Tracker is designed to be intuitive and easy to use. Here's how to get started with your first combat encounter:
					</p>
					
					<h3 class="text-2xl font-bold mb-3 mt-6">Step 1: Add Combatants</h3>
					<p class="text-muted-foreground mb-4">
						Click the "+ Add Row" button to add a new combatant to the initiative tracker. You can add as many creatures as needed for your encounter.
					</p>

					<h3 class="text-2xl font-bold mb-3 mt-6">Step 2: Enter Names</h3>
					<p class="text-muted-foreground mb-4">
						Click on the Name field and start typing. If you're adding a monster, you'll see autocomplete suggestions from our database of 300+ D&D monsters. Select a monster to automatically fill in their stats, or type your own custom name for player characters or homebrew creatures.
					</p>

					<h3 class="text-2xl font-bold mb-3 mt-6">Step 3: Roll Initiative</h3>
					<p class="text-muted-foreground mb-4">
						Have each player and monster roll for initiative. Enter the results in the Initiative column. The tracker will automatically sort everyone from highest to lowest initiative. You can use the dice icon button to roll initiative automatically based on each creature's initiative bonus.
					</p>

					<h3 class="text-2xl font-bold mb-3 mt-6">Step 4: Fill in Stats</h3>
					<p class="text-muted-foreground mb-4">
						Enter each combatant's current HP, maximum HP, and Armor Class. If you selected a monster from the autocomplete, these will be filled in automatically - you can adjust them as needed.
					</p>

					<h3 class="text-2xl font-bold mb-3 mt-6">Step 5: Start Combat</h3>
					<p class="text-muted-foreground mb-4">
						Click "Next Turn" to begin combat. The current active turn will be highlighted. Progress through combat by clicking "Next Turn" after each creature's turn ends.
					</p>
				</section>

				<section class="mb-12">
					<h2 class="text-3xl font-bold mb-4">Managing Combat</h2>

					<h3 class="text-2xl font-bold mb-3 mt-6">Tracking Hit Points</h3>
					<p class="text-muted-foreground mb-4">
						Update HP as creatures take damage or receive healing. You can either:
					</p>
					<ul class="list-disc list-inside text-muted-foreground space-y-2 mb-4">
						<li>Click the HP field and type the new value directly</li>
						<li>Use the +/- buttons to adjust HP incrementally</li>
						<li>Enter negative values to deal damage automatically</li>
					</ul>
					<p class="text-muted-foreground mb-4">
						When a creature reaches 0 HP, consider using the Death Saves feature for player characters.
					</p>

					<h3 class="text-2xl font-bold mb-3 mt-6">Death Saving Throws</h3>
					<p class="text-muted-foreground mb-4">
						For dying player characters, use the death save tracker:
					</p>
					<ul class="list-disc list-inside text-muted-foreground space-y-2 mb-4">
						<li>Check a Success box when they roll 10 or higher</li>
						<li>Check a Failure box when they roll 9 or lower</li>
						<li>Three successes means they're stabilized at 0 HP</li>
						<li>Three failures means the character dies</li>
						<li>A natural 20 restores 1 HP immediately</li>
						<li>A natural 1 counts as two failures</li>
					</ul>

					<h3 class="text-2xl font-bold mb-3 mt-6">Status Conditions</h3>
					<p class="text-muted-foreground mb-4">
						Apply status conditions by clicking on a creature's status field. Common conditions include:
					</p>
					<ul class="list-disc list-inside text-muted-foreground space-y-2 mb-4">
						<li><strong>Prone:</strong> Disadvantage on attack rolls, advantage for melee attacks against them</li>
						<li><strong>Stunned:</strong> Can't move or take actions, auto-fail Str/Dex saves</li>
						<li><strong>Paralyzed:</strong> Incapacitated, auto-fail Str/Dex saves, critical hits within 5 feet</li>
						<li><strong>Poisoned:</strong> Disadvantage on attack rolls and ability checks</li>
						<li><strong>Restrained:</strong> Speed 0, disadvantage on Dex saves</li>
						<li><strong>Blinded:</strong> Auto-fail sight-based checks, disadvantage on attacks</li>
						<li><strong>Charmed:</strong> Can't attack charmer, charmer has advantage on social checks</li>
						<li><strong>Frightened:</strong> Disadvantage on abilities while source in sight</li>
					</ul>

					<h3 class="text-2xl font-bold mb-3 mt-6">Reordering Initiative</h3>
					<p class="text-muted-foreground mb-4">
						Sometimes initiative order changes mid-combat (Ready action, new creatures joining, etc.). Simply drag and drop any row to reorder the initiative.
					</p>

					<h3 class="text-2xl font-bold mb-3 mt-6">Adding/Removing Combatants Mid-Battle</h3>
					<p class="text-muted-foreground mb-4">
						Click "+ Add Row" to add reinforcements during combat. Use the trash icon to remove defeated enemies or characters who flee. The turn order will automatically adjust.
					</p>

					<h3 class="text-2xl font-bold mb-3 mt-6">Round Counter</h3>
					<p class="text-muted-foreground mb-4">
						The round counter tracks how many rounds of combat have passed. This is useful for:
					</p>
					<ul class="list-disc list-inside text-muted-foreground space-y-2 mb-4">
						<li>Spell durations (e.g., "lasts 1 minute = 10 rounds")</li>
						<li>Condition durations (e.g., "ends at the start of your next turn")</li>
						<li>Lair actions (every round on initiative count 20)</li>
						<li>Time-sensitive objectives</li>
					</ul>
				</section>

				<section class="mb-12">
					<h2 class="text-3xl font-bold mb-4">Using the Monster Database</h2>
					<p class="text-muted-foreground mb-4">
						Our initiative tracker includes 300+ D&D 5e monsters from the SRD (System Reference Document).
					</p>

					<h3 class="text-2xl font-bold mb-3 mt-6">Searching for Monsters</h3>
					<p class="text-muted-foreground mb-4">
						In the Name column, start typing any monster name. The autocomplete will show matching results. For example:
					</p>
					<ul class="list-disc list-inside text-muted-foreground space-y-2 mb-4">
						<li>Type "gob" to see Goblin, Goblin Boss, etc.</li>
						<li>Type "drag" to see all dragon types</li>
						<li>Type "anc" to see ancient dragons</li>
					</ul>

					<h3 class="text-2xl font-bold mb-3 mt-6">Viewing Monster Actions</h3>
					<p class="text-muted-foreground mb-4">
						Click the book icon next to any monster name to view their full stat block, including:
					</p>
					<ul class="list-disc list-inside text-muted-foreground space-y-2 mb-4">
						<li>Actions (attacks and special abilities)</li>
						<li>Bonus actions</li>
						<li>Reactions</li>
						<li>Legendary actions (if applicable)</li>
						<li>Special traits and resistances</li>
					</ul>
				</section>

				<section class="mb-12">
					<h2 class="text-3xl font-bold mb-4">AI Encounter Generation</h2>
					<p class="text-muted-foreground mb-4">
						Generate balanced encounters using AI in seconds.
					</p>

					<h3 class="text-2xl font-bold mb-3 mt-6">How to Generate an Encounter</h3>
					<ol class="list-decimal list-inside text-muted-foreground space-y-2 mb-4">
						<li>Click the "AI Assistant" button</li>
						<li>Describe your desired encounter in plain English</li>
						<li>Include party size, level, difficulty, and theme</li>
						<li>Click "Generate Encounter"</li>
						<li>Review the AI's suggestions and adjust as needed</li>
					</ol>

					<h3 class="text-2xl font-bold mb-3 mt-6">Example Prompts</h3>
					<ul class="list-disc list-inside text-muted-foreground space-y-2 mb-4">
						<li>"Easy forest encounter for 4 level 2 players"</li>
						<li>"Deadly undead encounter for a level 5 party of 5"</li>
						<li>"Medium difficulty bandit ambush for 3 level 3 characters"</li>
						<li>"Hard boss fight with a spellcaster for 4 level 7 players"</li>
						<li>"Random goblin cave encounter, medium difficulty, level 4 party"</li>
					</ul>

					<h3 class="text-2xl font-bold mb-3 mt-6">Tips for Best Results</h3>
					<ul class="list-disc list-inside text-muted-foreground space-y-2 mb-4">
						<li>Always include party size and level</li>
						<li>Specify difficulty (easy, medium, hard, deadly)</li>
						<li>Mention the theme or environment (forest, dungeon, city, etc.)</li>
						<li>Include any specific monsters you want to feature</li>
						<li>The AI can suggest tactics and combat strategies</li>
						<li>You have 20 AI generations per day - use them wisely!</li>
					</ul>
				</section>

				<section class="mb-12">
					<h2 class="text-3xl font-bold mb-4">Saving and Loading Encounters</h2>

					<h3 class="text-2xl font-bold mb-3 mt-6">Saving an Encounter</h3>
					<ol class="list-decimal list-inside text-muted-foreground space-y-2 mb-4">
						<li>Set up your encounter with all combatants</li>
						<li>Give your encounter a name in the field above the tracker</li>
						<li>Click "Encounters" to open the encounter drawer</li>
						<li>Click "Save Current Encounter"</li>
					</ol>

					<h3 class="text-2xl font-bold mb-3 mt-6">Loading a Saved Encounter</h3>
					<ol class="list-decimal list-inside text-muted-foreground space-y-2 mb-4">
						<li>Click "Encounters" to open the drawer</li>
						<li>Browse your saved encounters</li>
						<li>Click "Load" on any encounter to restore it</li>
					</ol>

					<h3 class="text-2xl font-bold mb-3 mt-6">Managing Encounters</h3>
					<ul class="list-disc list-inside text-muted-foreground space-y-2 mb-4">
						<li>Rename encounters by updating the name before saving</li>
						<li>Delete encounters you no longer need</li>
						<li>Duplicate encounters and modify them for variations</li>
						<li>All encounters are saved locally in your browser</li>
					</ul>
				</section>

				<section class="mb-12">
					<h2 class="text-3xl font-bold mb-4">Keyboard Shortcuts</h2>
					<p class="text-muted-foreground mb-4">
						Speed up combat management with keyboard shortcuts:
					</p>
					<ul class="list-disc list-inside text-muted-foreground space-y-2 mb-4">
						<li><strong>Space:</strong> Next turn</li>
						<li><strong>Shift + Space:</strong> Previous turn</li>
						<li><strong>Ctrl/Cmd + N:</strong> Add new combatant</li>
						<li><strong>Ctrl/Cmd + R:</strong> Reset combat</li>
						<li><strong>Ctrl/Cmd + S:</strong> Save encounter</li>
						<li><strong>Escape:</strong> Close any open modal or drawer</li>
					</ul>
				</section>

				<section class="mb-12">
					<h2 class="text-3xl font-bold mb-4">Tips for Dungeon Masters</h2>

					<h3 class="text-2xl font-bold mb-3 mt-6">Prepare Encounters in Advance</h3>
					<p class="text-muted-foreground mb-4">
						Save commonly used encounters (random wilderness, city guards, etc.) so you can load them instantly when needed. This is especially useful for random encounters.
					</p>

					<h3 class="text-2xl font-bold mb-3 mt-6">Use Multiple Devices</h3>
					<p class="text-muted-foreground mb-4">
						Open the tracker on your laptop for management and on your phone for quick reference. Since data is browser-based, you can export/import between devices.
					</p>

					<h3 class="text-2xl font-bold mb-3 mt-6">Adjust Monster HP</h3>
					<p class="text-muted-foreground mb-4">
						If combat is too easy or hard, adjust monster HP on the fly. The tracker makes it easy to strengthen or weaken enemies dynamically.
					</p>

					<h3 class="text-2xl font-bold mb-3 mt-6">Track More Than Combat</h3>
					<p class="text-muted-foreground mb-4">
						Use the tracker for chase scenes, skill challenges, or any turn-based encounter. The flexible notes field can track skill check results or progress.
					</p>

					<h3 class="text-2xl font-bold mb-3 mt-6">Keep Players Engaged</h3>
					<p class="text-muted-foreground mb-4">
						Share your screen or project the tracker so players can see initiative order. This helps them prepare their turns and stay engaged.
					</p>
				</section>

				<section class="mb-12">
					<h2 class="text-3xl font-bold mb-4">Troubleshooting</h2>

					<h3 class="text-2xl font-bold mb-3 mt-6">Data Not Saving</h3>
					<p class="text-muted-foreground mb-4">
						If your encounters aren't saving, check that your browser allows local storage. Private/incognito mode may prevent saving. Try using a regular browser window.
					</p>

					<h3 class="text-2xl font-bold mb-3 mt-6">Monster Database Not Loading</h3>
					<p class="text-muted-foreground mb-4">
						The monster database loads on first visit. Refresh the page if autocomplete isn't working. Once loaded, monsters are cached for offline use.
					</p>

					<h3 class="text-2xl font-bold mb-3 mt-6">Mobile Display Issues</h3>
					<p class="text-muted-foreground mb-4">
						On small screens, some columns may be hidden. Rotate to landscape mode to see all columns, or use the desktop version for full functionality.
					</p>
				</section>

				<div class="bg-secondary/20 p-6 rounded-lg mt-12">
					<h3 class="text-2xl font-bold mb-4">Ready to master D&D combat?</h3>
					<p class="text-muted-foreground mb-4">
						Start using the Initiative Tracker now and run your smoothest combat encounters yet.
					</p>
					<a href="/" class="inline-block bg-primary text-primary-foreground px-6 py-3 rounded-lg font-semibold hover:bg-primary/90 transition-colors">
						Start Tracking Initiative
					</a>
				</div>
			</article>
		</div>
	</div>
</Layout>


